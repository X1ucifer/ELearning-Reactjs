{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\AJ\\\\Downloads\\\\Spyberrys\\\\Spyberrys\\\\Spyberrys_app\\\\components\\\\Authentication\\\\RegisterForm.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { Alert, Spinner } from 'reactstrap';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport catchErrors from '../../utils/catchErrors';\nimport baseUrl from '../../utils/baseUrl';\nimport { handleLogin } from '../../utils/auth';\nconst INITIAL_USER = {\n  name: '',\n  email: '',\n  password: '',\n  confirmPassword: ''\n};\n\nconst RegisterForm = () => {\n  const [user, setUser] = React.useState(INITIAL_USER);\n  const [disabled, setDisabled] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState('');\n\n  const onDismiss = () => setError(false);\n\n  React.useEffect(() => {\n    const isUser = Object.values(user).every(el => Boolean(el));\n    isUser ? setDisabled(false) : setDisabled(true);\n  }, [user]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUser(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault(); // console.log(user)\n\n    try {\n      setLoading(true);\n      setError('');\n      const url = `${baseUrl}/api/v1/auth/signup`;\n\n      const payload = _objectSpread({}, user);\n\n      const response = await axios.post(url, payload);\n      handleLogin(response.data); // console.log(response.data)\n    } catch (error) {\n      catchErrors(error, setError);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      color: \"danger\",\n      isOpen: error ? true : false,\n      toggle: onDismiss,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Full Name\",\n          name: \"name\",\n          value: user.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Email\",\n          name: \"email\",\n          type: \"email\",\n          value: user.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Password\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Confirm Password\",\n          name: \"confirmPassword\",\n          value: user.confirmPassword,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: \"The password should be at least eight characters long. To make it stronger, use upper and lower case letters, numbers, and symbols like ! \\\" ? $ % ^ & )\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: disabled,\n        children: [\"Register\", loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n          color: \"success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 32\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\nexport default RegisterForm;","map":{"version":3,"sources":["C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/components/Authentication/RegisterForm.js"],"names":["React","Alert","Spinner","Link","axios","catchErrors","baseUrl","handleLogin","INITIAL_USER","name","email","password","confirmPassword","RegisterForm","user","setUser","useState","disabled","setDisabled","loading","setLoading","error","setError","onDismiss","useEffect","isUser","Object","values","every","el","Boolean","handleChange","e","value","target","prevState","handleSubmit","preventDefault","url","payload","response","post","data","textAlign"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Alert, Spinner } from 'reactstrap'\nimport Link from 'next/link'\nimport axios from 'axios'\nimport catchErrors from '../../utils/catchErrors'\nimport baseUrl from '../../utils/baseUrl'\nimport { handleLogin } from '../../utils/auth'\n\nconst INITIAL_USER = {\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n}\n\nconst RegisterForm = () => {\n    const [user, setUser] = React.useState(INITIAL_USER)\n    const [disabled, setDisabled] = React.useState(true)\n    const [loading, setLoading] = React.useState(false)\n    const [error, setError] = React.useState('')\n    const onDismiss = () => setError(false)\n\n    React.useEffect(() => {\n        const isUser = Object.values(user).every(el => Boolean(el))\n        isUser ? setDisabled(false) : setDisabled(true)\n    }, [user])\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setUser(prevState => ({ ...prevState, [name]: value }))\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        // console.log(user)\n        try {\n            setLoading(true)\n            setError('')\n            const url = `${baseUrl}/api/v1/auth/signup`\n            const payload = {...user};\n            const response = await axios.post(url, payload)\n            handleLogin(response.data);\n            // console.log(response.data)\n        } catch (error) {\n            catchErrors(error, setError)\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"register-form\">\n            <h4 style={{textAlign:'center',}}>Register</h4>\n            <Alert color=\"danger\" isOpen={error ? true : false} toggle={onDismiss}>\n                {error}\n            </Alert>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label>Name</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                        placeholder=\"Full Name\" \n                        name=\"name\"\n                        value={user.name}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Email</label>\n                    <input \n                        className=\"form-control\" \n                        placeholder=\"Email\" \n                        name=\"email\"\n                        type=\"email\"\n                        value={user.email}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input \n                        type=\"password\" \n                        className=\"form-control\" \n                        placeholder=\"Password\" \n                        name=\"password\"\n                        value={user.password}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Confirm Password</label>\n                    <input \n                        type=\"password\" \n                        className=\"form-control\" \n                        placeholder=\"Confirm Password\" \n                        name=\"confirmPassword\"\n                        value={user.confirmPassword}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <p className=\"description\">The password should be at least eight characters long. To make it stronger, use upper and lower case letters, numbers, and symbols like ! \" ? $ % ^ & )</p>\n\n                <button type=\"submit\" disabled={disabled}>\n                    Register\n                    {loading ? <Spinner color=\"success\" /> : ''}\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}