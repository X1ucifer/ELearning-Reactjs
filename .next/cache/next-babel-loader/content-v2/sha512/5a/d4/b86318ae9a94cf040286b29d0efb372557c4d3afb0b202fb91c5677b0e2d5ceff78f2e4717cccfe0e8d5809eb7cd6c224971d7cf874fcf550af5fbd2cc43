{"ast":null,"code":"import Cors from 'cors';\nimport initMiddleware from '../../../../lib/init-middleware';\nimport { users as User } from '../../../../models'; // Initialize the cors middleware\n\nconst cors = initMiddleware( // You can read more about the available options here: https://github.com/expressjs/cors#configuration-options\nCors({\n  // Only allow requests with GET, POST and OPTIONS\n  methods: ['GET', 'POST', 'OPTIONS', 'DELETE', 'PUT']\n}));\nexport default (async (req, res) => {\n  await cors(req, res);\n  const {\n    userId\n  } = req.body;\n\n  try {\n    await User.update({\n      as_teacher_confirmed: true,\n      as_teacher_confirmed_at: Date.now(),\n      role: 'teacher'\n    }, {\n      where: {\n        id: userId\n      }\n    }); // console.log(pendingRequests)\n\n    res.send(\"Approved\");\n  } catch (error) {\n    console.log(error);\n    res.send(\"Error! Try again\");\n  }\n});","map":null,"metadata":{},"sourceType":"module"}