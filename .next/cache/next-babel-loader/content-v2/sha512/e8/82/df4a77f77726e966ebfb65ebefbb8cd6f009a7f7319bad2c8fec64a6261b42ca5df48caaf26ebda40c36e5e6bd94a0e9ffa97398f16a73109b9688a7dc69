{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport PageBanner from '@/components/Common/PageBanner';\nimport Link from 'next/link';\nimport { parseCookies } from 'nookies';\nimport axios from 'axios';\nimport baseUrl from '@/utils/baseUrl';\n\nconst SingleCourses = ({\n  videos\n}) => {\n  const [videoId, setVideoId] = React.useState(videos.length ? videos[0].video_url : '');\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(PageBanner, {\n      pageTitle: videos.length ? videos[0].course.title : 'No Videos',\n      homePageUrl: \"/my-courses\",\n      homePageText: \"My Courses\",\n      activePageText: videos.length ? videos[0].course.title : 'No Videos'\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"ptb-100\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-3\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"course-video-list\",\n              children: videos.length ? videos.map(video => /*#__PURE__*/_jsx(\"div\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/my-courses/[videos]/[id]\",\n                  as: `/my-courses/${video.course.id}/${video.id}`,\n                  children: /*#__PURE__*/_jsxs(\"a\", {\n                    onClick: e => {\n                      e.preventDefault();\n                      setVideoId(video.video_url);\n                    },\n                    children: [/*#__PURE__*/_jsx(\"img\", {\n                      src: video.course.profilePhoto,\n                      alt: video.course.title\n                    }), /*#__PURE__*/_jsx(\"h4\", {\n                      children: video.name\n                    })]\n                  })\n                })\n              }, video.id)) : /*#__PURE__*/_jsx(\"h3\", {\n                children: \"No Videos\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-lg-9\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"course-video-iframe\",\n              children: /*#__PURE__*/_jsxs(\"video\", {\n                controls: true,\n                children: [/*#__PURE__*/_jsx(\"source\", {\n                  src: videoId,\n                  type: \"video/mp4\"\n                }), /*#__PURE__*/_jsx(\"source\", {\n                  src: \"/images/courses/courses5.jpg\",\n                  type: \"video/ogg\"\n                })]\n              }, videoId)\n            })\n          })]\n        })\n      })\n    })]\n  });\n};\n\nSingleCourses.getInitialProps = async ctx => {\n  const {\n    token\n  } = parseCookies(ctx);\n\n  if (!token) {\n    return {\n      videos: []\n    };\n  }\n\n  const {\n    id\n  } = ctx.query; // console.log(id)\n\n  const payload = {\n    headers: {\n      Authorization: token\n    },\n    params: {\n      courseId: id\n    }\n  };\n  const url = `${baseUrl}/api/v1/courses/enrolled/videos`;\n  const response = await axios.get(url, payload); // console.log(response.data)\n\n  return response.data;\n};\n\nexport default SingleCourses;","map":null,"metadata":{},"sourceType":"module"}