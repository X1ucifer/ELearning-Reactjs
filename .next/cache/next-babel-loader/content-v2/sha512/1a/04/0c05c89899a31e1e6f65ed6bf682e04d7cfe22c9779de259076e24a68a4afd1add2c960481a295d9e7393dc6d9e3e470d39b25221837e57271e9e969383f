{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\AJ\\\\Downloads\\\\Spyberrys\\\\Spyberrys\\\\Spyberrys_app\\\\components\\\\Authentication\\\\RegisterForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { Alert, Spinner } from 'reactstrap';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport catchErrors from '../../utils/catchErrors';\nimport baseUrl from '../../utils/baseUrl';\nimport { handleLogin } from '../../utils/auth';\nvar INITIAL_USER = {\n  name: '',\n  email: '',\n  password: '',\n  confirmPassword: ''\n};\n\nvar RegisterForm = function RegisterForm() {\n  _s();\n\n  var _React$useState = React.useState(INITIAL_USER),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  var _React$useState3 = React.useState(true),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      disabled = _React$useState4[0],\n      setDisabled = _React$useState4[1];\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      loading = _React$useState6[0],\n      setLoading = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      error = _React$useState8[0],\n      setError = _React$useState8[1];\n\n  var onDismiss = function onDismiss() {\n    return setError(false);\n  };\n\n  React.useEffect(function () {\n    var isUser = Object.values(user).every(function (el) {\n      return Boolean(el);\n    });\n    isUser ? setDisabled(false) : setDisabled(true);\n  }, [user]);\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n    setUser(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var url, payload, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); // console.log(user)\n\n              _context.prev = 1;\n              setLoading(true);\n              setError('');\n              url = \"\".concat(baseUrl, \"/api/v1/auth/signup\");\n              payload = _objectSpread({}, user);\n              _context.next = 8;\n              return axios.post(url, payload);\n\n            case 8:\n              response = _context.sent;\n              handleLogin(response.data); // console.log(response.data)\n\n              _context.next = 15;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](1);\n              catchErrors(_context.t0, setError);\n\n            case 15:\n              _context.prev = 15;\n              setLoading(false);\n              return _context.finish(15);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 12, 15, 18]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(Alert, {\n      color: \"danger\",\n      isOpen: error ? true : false,\n      toggle: onDismiss,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Full Name\",\n          name: \"name\",\n          value: user.name,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          placeholder: \"Email\",\n          name: \"email\",\n          type: \"email\",\n          value: user.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Password\",\n          name: \"password\",\n          value: user.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Confirm Password\",\n          name: \"confirmPassword\",\n          value: user.confirmPassword,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"description\",\n        children: \"The password should be at least eight characters long. To make it stronger, use upper and lower case letters, numbers, and symbols like ! \\\" ? $ % ^ & )\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: disabled,\n        children: [\"Register\", loading ? /*#__PURE__*/_jsxDEV(Spinner, {\n          color: \"success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 32\n        }, _this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(RegisterForm, \"dNBd9zkFi3Vyxqd7CW7OwHL5Lto=\");\n\n_c = RegisterForm;\nexport default RegisterForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"sources":["C:/Users/AJ/Downloads/Spyberrys/Spyberrys/Spyberrys_app/components/Authentication/RegisterForm.js"],"names":["React","Alert","Spinner","Link","axios","catchErrors","baseUrl","handleLogin","INITIAL_USER","name","email","password","confirmPassword","RegisterForm","useState","user","setUser","disabled","setDisabled","loading","setLoading","error","setError","onDismiss","useEffect","isUser","Object","values","every","el","Boolean","handleChange","e","target","value","prevState","handleSubmit","preventDefault","url","payload","post","response","data","textAlign"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Alert, Spinner } from 'reactstrap'\nimport Link from 'next/link'\nimport axios from 'axios'\nimport catchErrors from '../../utils/catchErrors'\nimport baseUrl from '../../utils/baseUrl'\nimport { handleLogin } from '../../utils/auth'\n\nconst INITIAL_USER = {\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n}\n\nconst RegisterForm = () => {\n    const [user, setUser] = React.useState(INITIAL_USER)\n    const [disabled, setDisabled] = React.useState(true)\n    const [loading, setLoading] = React.useState(false)\n    const [error, setError] = React.useState('')\n    const onDismiss = () => setError(false)\n\n    React.useEffect(() => {\n        const isUser = Object.values(user).every(el => Boolean(el))\n        isUser ? setDisabled(false) : setDisabled(true)\n    }, [user])\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setUser(prevState => ({ ...prevState, [name]: value }))\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        // console.log(user)\n        try {\n            setLoading(true)\n            setError('')\n            const url = `${baseUrl}/api/v1/auth/signup`\n            const payload = {...user};\n            const response = await axios.post(url, payload)\n            handleLogin(response.data);\n            // console.log(response.data)\n        } catch (error) {\n            catchErrors(error, setError)\n        } finally {\n            setLoading(false);\n        }\n    }\n\n    return (\n        <div className=\"register-form\">\n            <h2 style={{textAlign:'center',}}>Signup</h2>\n            <Alert color=\"danger\" isOpen={error ? true : false} toggle={onDismiss}>\n                {error}\n            </Alert>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                    <label>Name</label>\n                    <input \n                        type=\"text\" \n                        className=\"form-control\" \n                        placeholder=\"Full Name\" \n                        name=\"name\"\n                        value={user.name}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Email</label>\n                    <input \n                        className=\"form-control\" \n                        placeholder=\"Email\" \n                        name=\"email\"\n                        type=\"email\"\n                        value={user.email}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input \n                        type=\"password\" \n                        className=\"form-control\" \n                        placeholder=\"Password\" \n                        name=\"password\"\n                        value={user.password}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Confirm Password</label>\n                    <input \n                        type=\"password\" \n                        className=\"form-control\" \n                        placeholder=\"Confirm Password\" \n                        name=\"confirmPassword\"\n                        value={user.confirmPassword}\n                        onChange={handleChange}\n                    />\n                </div>\n\n                <p className=\"description\">The password should be at least eight characters long. To make it stronger, use upper and lower case letters, numbers, and symbols like ! \" ? $ % ^ & )</p>\n\n                <button type=\"submit\" disabled={disabled}>\n                    Register\n                    {loading ? <Spinner color=\"success\" /> : ''}\n                </button>\n            </form>\n        </div>\n    )\n}\n\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}